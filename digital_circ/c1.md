# 数字电路基础

## 1 数制和码制

不同进制的转换; 反码(负数逐位求反); 补码(负数逐位求反+1)

## 2 逻辑代数

### 编码
8421BCD; 5421BCD; mod3码;

### 逻辑代数的定义
变量只有0-1取值
### 基本运算和逻辑符号
与,或,非,与非,或非,异或,同或

### 表示方法
真值表; 逻辑表达式; 波形图; 逻辑图

### 逻辑代数的基本规则
$AB+\overline{A}C+BC = AB+\overline{A}C$, 略

三个规则:
1. 带入规则
2. 反演规则
3. 对偶规则(与对偶式一一对应)

### 逻辑函数的表示方法
利用对偶原理转化为或与式, 与或式等

**两种标准形式: 最小项之和, 最大项之积**

形如 $Y=\sum_m (i_1,...)\quad (i \;\mathrm{s.t.}\;(A...)_2=i\to Y=1)$

利用卡诺图化简(卡诺图的排列方式: 00-01-11-10)

含无关项, 任意项, 约束项的化简

## 3 TTL电路
TTL: transistor-transistor logic
- 截止条件: $v_{\mathrm{BE}} \le 0$
- 饱和条件: $v_{\mathrm{BE}} \ge v_{\mathrm{BE(on)}}$

TTL与非门电路分析
- 输出电压范围 $0.3 \to 3.6 V$
- 关门电平 $V_{\mathrm{off}} = 0.8V$
- 关门电阻 $R_{\mathrm{off}} = 0.9k$
- 开门电平 $V_{\mathrm{on}} = 1.8V$
- 开门电阻 $R_{\mathrm{on}} = 2.5k$

为实现线与, 使用集电极开路输出(OC门)/三态门(EN=0时为高阻态)

## 4 组合逻辑电路

- 74151: 8选1数据选择器(ST选通,Y输出原码)
- 74148: 8-3线*优先*编码器(/ST=0选通, Y0~Y2编码最高位零的位置, 输出/Y0~/Y2, /YEX=0表示有效输出, YS=0表示无零)
- 74139: 2-4译码器
- 74138: 3-8译码器(选通STA,/STB,/STC, 输出/Y0~/Y7)
- 7442: 4-10十进制译码器
- 7448: 7段数码管译码器, 驱动共阴极数码管
- 全加器; 超前进位全加器
- 7485: 数据比较器


数字选择器的扩展; 实现逻辑函数(扩展法, 降维法)

编码器扩展 (2)YS-->(1)/ST

数据比较器的级联扩展

## 5 触发器

表示方法:
- 状态转换真值表
- 特征方程 (方程+约束条件)
- 状态转换图 (Q-->[X]Q)
- 激励表 $Q_n\to Q_{n+1} | X$

### 5.1 基本触发器
RS: 
$$\begin{cases}
    Q^{n_1} = S + \overline{R} Q^{n}\\
    S + R =1
\end{cases}$$
D: ($\overline{S} = D,\overline{R}=\overline{D}$)
$$Q^{n+1}=D$$


### 5.1 钟控触发器
使输入$\overline{S}\to\overline{S}+\overline{\mathrm{CP}}$, 
CP=0时保持

钟控T'触发器: ($S=\overline{Q},R=Q$)
$$Q^{n+1} = \overline{Q^n}$$

钟控T触发器
$$Q^{n+1} = T\circledast Q^n$$

JK触发器
$$Q^{n+1} = j\overline{Q^n}+\overline{K}Q^n$$

钟控触发器的空翻现象

### 5.3 主从触发器

钟控触发器级联, 避免空翻: CP=0主封从翻; CP=1主触从封

JK触发器存在一次翻转问题

### 5.4 边沿触发器

使CP=1时Q_M=0, 称置1阻塞线; 封锁输入信号, 称置0维持线

边沿D触发器
$$Q^{n_1} = [D]\cdot \mathrm{CP}\uparrow\quad\mathrm{(上升沿触发)}$$

D触发器转换为JK, RS, T, T' 的方法

## 6 时序逻辑电路

描述: 输出方程, 激励方程, 状态方程

分类:
- 同步/异步: 状态转换是否钟控
- mealy/moore: 输出信号是否取决于输入 

### 计数器

- 74161: 同步计数器, \CR异步置零, \LD置数, CT计数控制

异步中的暂稳态, 克服清零不可靠的方法(加RS触发器)

实现任意模值计数器: 反馈置零(异步, 同步), 反馈置数(是同步方法, 包含最后一个状态; 整体反馈和部分反馈)

- 7490: 异步十进制计数器

### 寄存器

- 74195: 四位右移移位寄存器(第一级相当于JK触发器)
- 74194: 双向移位寄存器

应用: 串并转换; 纽环计数器

### 序列信号发生器

实现方法: 寄存器; 计数+译码器


## 7 脉冲电路

555 定时器功能表(相当于RS触发器):
$$\begin{cases}
    R &= (V_{\mathrm{TH}}\lt \frac 2 3V_{\mathrm{CC}}) \\
    S &= (V_{\mathrm{TR}} \gt \frac 1 3 V_{\mathrm{CC}})
\end{cases}$$

555 定时器的应用:
- schimit 触发器 (输入Vi实现调幅)
- 单稳态触发器 (TH 接 RC 电路, 三极管TD控制充放电, TR下降沿触发进入工作期, 由0充电至3/2VCC, $t_w \approx 1.1RC$)
- 多谐振荡器 (充电 $R_1\to R_2\to C$, 放电 $R_2\to C\to R_D$, $t_{w1} = 0.7(R_1+R_2)C, t_{w2}=0.7R_2C$) (加入二极管和滑变器, 实现占空比可调)

## 8 存储器和可编程器件

- 只读存储器(ROM)原理
  - 与阵列和或阵列
- 可编程逻辑阵列(PLA)

存储器的扩展
- 字扩展
- 位扩展
- 字, 位扩展连接

## 9 数模转换器

- 权电阻网络
  - $i_O = - \frac{2R_fV_{\mathrm{ref}}}{R2^n}\sum D_i 2^i$
  - 优点: 电阻数目少
- R-2R T型电阻网络
  - $v_O = - \frac{R_fV_{\mathrm{ref}}}{3R}$
  - 缺点: 尖峰脉冲
- R-2R 倒T型电阻网络
  - $v_O = - \frac{R_fV_{\mathrm{ref}}}{R}$

指标
- $\mathrm{resolution} = \frac{\Delta V}{V_m} = \frac{1}{2^n-1}$
